<!DOCTYPE html>
<html lang="de">

<head>
    <noscript>
        <meta http-equiv="refresh" content="0;url=index.html">
    </noscript>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PFxKA</title>
    <link rel="apple-touch-icon" sizes="180x180" href="../../res/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../res/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../res/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="../../res/images/favicon/site.webmanifest">
    <link rel="mask-icon" href="../../res/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="../../res/images/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="../../res/images/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <!-- UIkit CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.6.13/dist/css/uikit.min.css" />
    <!-- UIkit JS -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.6.13/dist/js/uikit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.6.13/dist/js/uikit-icons.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../../style/style_res.css">
</head>

<body>
    <div class="main-content hidden">

        <div class="cover-page">
            <img src="" alt="" srcset="">
        </div>

        <div class="info-section column" id="info-section">
            <div class="uk-card uk-card-default uk-card-body key-map row c-border">
                <div>
                    <div class="sign green"></div>
                    <h5>Ausreichend Abstand</h5>
                </div>
                <div>
                    <div class="sign red"></div>
                    <h5>Abstand zu gering</h5>
                </div>
            </div>
            <p class="hidden">Legende Visualisierung Weg</p>


            <h1 class="res-title">Ihr persönliches Corona Wachstum</h1>
            <!-- <div style="display: flex;flex-direction: row;"> -->


            <div class="info-content">
                <p>
                    In der obigen Visualisierung sehen Sie Ihr persönliches Corona Wachstum als abstrakte Grafik.
                    Diese
                    leitet sich aus der vorherigen Visualisierung der Wege ab. Die Bedeutung der farblichen
                    Markierung
                    der Visualisierung ist hier identisch mit der vorherigen Visualisierung. Grün bedeutet
                    ausreichender
                    Abstand und rot zu geringer Abstand. Hiermit ist es möglich aus der Darstellung zu erschließen,
                    wie
                    sich Ihr persönliches Virus, unter Ihren zuvor gemachten Angaben und dem Abstand, den Sie zu
                    anderen
                    Personen gehalten haben, entwickelt hätte.
                </p>

                <div class="info-sidebar">
                    <div class="uk-card uk-card-default uk-card-body">
                        <p>
                            Betrachten Sie ihr persönliches Corona Wachstum als 3D-Modell
                        </p>
                        <a href="#" target="_blank" id="watch3dWachstum-btn" class="uk-button uk-button-default uk-button-primary">
                            Hier&nbsp;<span uk-icon="search"></span>
                        </a>
                    </div>
                    <button class="uk-button uk-button-default uk-margin-small-right hidden" type="button"
                        uk-toggle="target: #more-info-modal">Mehr Informationen</button>
                </div>
            </div>

            <div class="c-card-wrapper">
                <div class="question-mark-icon"><span uk-icon="icon: question; ratio: 1.5"></span></div>
                <p>Wie hätten Sie das Projekt erlebt, wenn es gerade keinen Lockdown gäbe?</p>
            </div>

            <div class="info-section-footer pull-flex-end">
                <a href="../about/about.html" class="uk-button uk-button-primary">Weiter</a>
            </div>
            <!-- </div> -->

        </div>

    </div>

    <br><br>

    <div id="more-info-modal" uk-modal>
        <div class="uk-modal-dialog uk-modal-body">
            <h2 class="uk-modal-title">Info About this</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip
                ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu
                fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia
                deserunt mollit anim id est laborum.</p>
            <p class="uk-text-right">
                <button class="uk-button uk-button-default uk-modal-close" type="button">Schließen</button>
            </p>
        </div>
    </div>

    <a href="../imprint/imprint.html">
        <div class="imprint-floating-btn uk-box-shadow-hover-large">
            <span uk-icon="icon: info; ratio: 1.5"></span>
        </div>
    </a>

    <script>
        if (!sessionStorage.getItem("answer_q1") || sessionStorage.getItem("answer_q1") == "") {
            console.log("not answered q1");
            document.querySelector("body").innerHTML = "Redirecting...."
            setTimeout(() => {
                window.location.href = "../../index.html"
            }, 1.75 * 1000);
        }

        if (!sessionStorage.getItem("answer_q2") || sessionStorage.getItem("answer_q2") == "") {
            console.log("not answered q2");
            document.querySelector("body").innerHTML = "Redirecting...."
            setTimeout(() => {
                window.location.href = "../../index.html"
            }, 1.75 * 1000);
        }

        if (!sessionStorage.getItem("completed_survey") || sessionStorage.getItem("completed_survey") == "" || sessionStorage.getItem("completed_survey") != "true") {
            console.log("not completed survey");
            document.querySelector("body").innerHTML = "Redirecting...."
            setTimeout(() => {
                window.location.href = "../../index.html"
            }, 1.75 * 1000);
        }

        $(document).ready(function () {
            //deselect and disable on page-load
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
            if(checkAnswersAndBuildPage()){
                $(".main-content").removeClass("hidden");
            }
        })

        function checkAnswersAndBuildPage() {
            var q1_answer = sessionStorage.getItem("answer_q1");
            var q2_answer = sessionStorage.getItem("answer_q2");
            var imageEl = $(".cover-page").find("img");
            var watch3dBtn = $("#watch3dWachstum-btn");
            // console.log("$imgEl", $(imageEl));

            if (q1_answer == "2") {
                if (q2_answer == "yes") {
                    $(imageEl).attr("src", "../../res/images/result-images/personen-2/abstand/zwei_personen_abstand_wachstum.jpg");
                    $(watch3dBtn).attr("href", "../models-3d/d3-wachstum_2p.html?q=y");
                    return true;
                } else {
                    if (q2_answer == "no") {
                        $(imageEl).attr("src", "../../res/images/result-images/personen-2/keinAbstand/zwei_personen_kein_abstand_wachstum.jpg");
                        $(watch3dBtn).attr("href", "../models-3d/d3-wachstum_2p.html?q=n");
                        return true;
                    } else {
                        console.log("personCount = 2, maßnahmen = undefined/error");
                        return false;
                    }
                }
            }

            if (q1_answer == "3") {
                if (q2_answer == "yes") {
                    $(imageEl).attr("src", "../../res/images/result-images/personen-3/abstand/drei_personen_abstand_wachstum.jpg");
                    $(watch3dBtn).attr("href", "../models-3d/d3-wachstum_3p.html?q=y");
                    return true;
                } else {
                    if (q2_answer == "no") {
                        $(imageEl).attr("src", "../../res/images/result-images/personen-3/keinAbstand/drei_personen_kein_abstand_wachstum.jpg");
                        $(watch3dBtn).attr("href", "../models-3d/d3-wachstum_3p.html?q=n");
                        return true;
                    } else {
                        console.log("personCount = 3, maßnahmen = undefined/error");
                        return false;
                    }
                }
            }

            if (q1_answer == "4") {
                if (q2_answer == "yes") {
                    $(imageEl).attr("src", "../../res/images/result-images/personen-4/abstand/vier_personen_abstand_wachstum.jpg");
                    $(watch3dBtn).attr("href", "../models-3d/d3-wachstum_4p.html?q=y");
                    return true;
                } else {
                    if (q2_answer == "no") {
                        $(imageEl).attr("src", "../../res/images/result-images/personen-4/keinAbstand/vier_personen_kein_abstand_wachstum.jpg");
                        $(watch3dBtn).attr("href", "../models-3d/d3-wachstum_4p.html?q=n");
                        return true;
                    } else {
                        console.log("personCount = 4, maßnahmen = undefined/error");
                        return false;
                    }
                }
            }
            console.log("personCount = undefined/error");
            sessionStorage.clear();
            // location.reload();
            return false;
        }
    </script>

</body>

</html>