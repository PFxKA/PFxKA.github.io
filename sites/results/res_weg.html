<!DOCTYPE html>
<html lang="de">

<head>
    <noscript>
        <meta http-equiv="refresh" content="0;url=index.html">
    </noscript>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PFxKA</title>
    <link rel="apple-touch-icon" sizes="180x180" href="../../res/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../res/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../res/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="../../res/images/favicon/site.webmanifest">
    <link rel="mask-icon" href="../../res/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="../../res/images/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="../../res/images/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <!-- UIkit CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.6.13/dist/css/uikit.min.css" />
    <!-- UIkit JS -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.6.13/dist/js/uikit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.6.13/dist/js/uikit-icons.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../../style/style_res.css">
</head>

<body>
    <div class="main-content hidden">

        <div class="cover-page">
            <img src="" alt="" srcset="">
        </div>

        <div class="info-section column" id="info-section">
            <div class="uk-card uk-card-default uk-card-body key-map row c-border">
                <div>
                    <div class="sign green"></div>
                    <h5>Ausreichend Abstand</h5>
                </div>
                <div>
                    <div class="sign red"></div>
                    <h5>Abstand zu gering</h5>
                </div>
            </div>
            <p class="hidden">Legende Visualisierung Weg</p>

            <div class="info-content--full-width">
                <h1 class="res-title">Ihr zurückgelegter Weg:<br>Das sagt er über Sie aus</h1>
                <p>
                    Die obige Visualisierung zeigt den Weg, welchen Sie während der Besichtigung der
                    Ausstellung zurückgelegt haben. Die in der Mitte platzierten Blöcke stellen dabei, die
                    Skulpturen dar, die in dem Raum ausgestellt wurden. Der visualisierte Weg ist durch verschiedene
                    Farben markiert, welche unterschiedliche Bedeutungen haben. Weist Ihre Visualisierung viele grüne
                    Abschnitte auf, bedeutet dies, dass Sie zu anderen Personen einen ausreichenden Abstand eingehalten
                    haben. Sind die Abschnitte überwiegend rot markiert, bedeutet dies, dass Sie den von der
                    Bundesregierung vorgeschriebenen Abstand von 1,5 Metern nicht eingehalten haben.
                </p>
                <div class="c-card-wrapper">
                    <div class="question-mark-icon"><span uk-icon="icon: question; ratio: 1.5"></span></div>
                    <p>Aber was für eine Auswirkung hat die Einhaltung des Abstands auf die Verbreitung des
                        Corona Virus?</p>
                </div>
            </div>

            <div class="info-section-footer pull-flex-end">
                <a href="res_wachstum.html" class="uk-button uk-button-primary">Weiter</a>
            </div>

        </div>

    </div>

    <a href="../imprint/imprint.html">
        <div class="imprint-floating-btn uk-box-shadow-hover-large">
            <span uk-icon="icon: info; ratio: 1.5"></span>
        </div>
    </a>

    <script>
        if (!sessionStorage.getItem("answer_q1") || sessionStorage.getItem("answer_q1") == "") {
            console.log("not answered q1");
            document.querySelector("body").innerHTML = "Redirecting...."
            setTimeout(() => {
                window.location.href = "../../index.html"
            }, 1.75 * 1000);
        }

        if (!sessionStorage.getItem("answer_q2") || sessionStorage.getItem("answer_q2") == "") {
            console.log("not answered q2");
            document.querySelector("body").innerHTML = "Redirecting...."
            setTimeout(() => {
                window.location.href = "../../index.html"
            }, 1.75 * 1000);
        }

        $(document).ready(function () {
            //deselect and disable on page-load
            sessionStorage.setItem("completed_survey", true);
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
            if(checkAnswersAndBuildPage()){
                $(".main-content").removeClass("hidden");
            }
        })

        function checkAnswersAndBuildPage() {
            var q1_answer = sessionStorage.getItem("answer_q1");
            var q2_answer = sessionStorage.getItem("answer_q2");
            var imageEl = $(".cover-page").find("img");
            // console.log("$imgEl", $(imageEl));

            if (q1_answer == "2") {
                if (q2_answer == "yes") {
                    $(imageEl).attr("src", "../../res/images/result-images/personen-2/abstand/zwei_personen_abstand_weg.jpg");
                    return true;
                } else {
                    if (q2_answer == "no") {
                        $(imageEl).attr("src", "../../res/images/result-images/personen-2/keinAbstand/zwei_personen_kein_abstand_weg.jpg");
                        return true;
                    } else {
                        console.log("personCount = 2, maßnahmen = undefined/error");
                        return false;
                    }
                }
            }

            if (q1_answer == "3") {
                if (q2_answer == "yes") {
                    $(imageEl).attr("src", "../../res/images/result-images/personen-3/abstand/drei_personen_abstand_weg.jpg");
                    return true;
                } else {
                    if (q2_answer == "no") {
                        $(imageEl).attr("src", "../../res/images/result-images/personen-3/keinAbstand/drei_personen_kein_abstand_weg.jpg");
                        return true;
                    } else {
                        console.log("personCount = 3, maßnahmen = undefined/error");
                        return false;
                    }
                }
            }

            if (q1_answer == "4") {
                if (q2_answer == "yes") {
                    $(imageEl).attr("src", "../../res/images/result-images/personen-4/abstand/vier_personen_abstand_weg.jpg");
                    return true;
                } else {
                    if (q2_answer == "no") {
                        $(imageEl).attr("src", "../../res/images/result-images/personen-4/keinAbstand/vier_personen_kein_abstand_weg.jpg");
                        return true;
                    } else {
                        console.log("personCount = 4, maßnahmen = undefined/error");
                        return false;
                    }
                }
            }
            console.log("personCount = undefined/error");
            sessionStorage.clear();
            // location.reload();
            return false;
        }
    </script>

</body>

</html>