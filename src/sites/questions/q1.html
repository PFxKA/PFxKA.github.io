<!DOCTYPE html>
<html lang="de">

<head>
    <noscript>
        <meta http-equiv="refresh" content="0;url=index.html">
    </noscript>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PFxKA</title>
    <link rel="apple-touch-icon" sizes="180x180" href="../../res/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../res/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../res/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="../../res/images/favicon/site.webmanifest">
    <link rel="mask-icon" href="../../res/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="../../res/images/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="../../res/images/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <!-- UIkit CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.6.13/dist/css/uikit.min.css" />
    <!-- UIkit JS -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.6.13/dist/js/uikit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.6.13/dist/js/uikit-icons.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../../style/style_questions.css">
</head>

<body>

    <!-- <div class="uk-background-secondary main-content"> -->
    <div class="main-content hidden">
        <div class="question-headline">
            <h2>Mit wievielen Personen w√ºrden Sie normalerweise die Werkschau besuchen?</h2>
            <hr>
        </div>

        <div class="question-cards">
            <!-- <form id="q1-form" action=""> -->
                <!-- <div class="uk-child-width-expand@s uk-text-center uk-position-center question-images-container" -->
                <div class="uk-child-width-expand@m uk-text-center question-images-container"
                    uk-grid>

                    <div class="select-card">
                        <div class="uk-card uk-card-default uk-box-shadow-medium uk-box-shadow-hover-large">
                            <div class="uk-card-media-top">
                                <img class="noselect" src="../../res/images/question-images/q1/q1_image1.jpg"
                                    alt="">
                            </div>
                            <div class="uk-card-body">
                                <h3 class="uk-card-title noselect">2 Personen</h3>
                                <input class="uk-radio select-card__input" type="radio" name="q1-select"
                                    value="2">
                            </div>
                        </div>
                    </div>

                    <div class="select-card">
                        <div class="uk-card uk-card-default uk-box-shadow-medium uk-box-shadow-hover-large">
                            <div class="uk-card-media-top">
                                <img class="noselect" src="../../res/images/question-images/q1/q1_image2.jpg"
                                    alt="">
                            </div>
                            <div class="uk-card-body">
                                <h3 class="uk-card-title noselect">3 Personen</h3>
                                <input class="uk-radio select-card__input" type="radio" name="q1-select"
                                    value="3">
                            </div>
                        </div>
                    </div>

                    <div class="select-card">
                        <div class="uk-card uk-card-default uk-box-shadow-medium uk-box-shadow-hover-large">
                            <div class="uk-card-media-top">
                                <img class="noselect" src="../../res/images/question-images/q1/q1_image3.jpg"
                                    alt="">
                            </div>
                            <div class="uk-card-body">
                                <h3 class="uk-card-title noselect">4 Personen</h3>
                                <input class="uk-radio select-card__input" type="radio" name="q1-select"
                                    value="4">
                            </div>
                        </div>
                    </div>
                </div>
                <!-- </form> -->
            </div>
            <div class="question-continue">
                <button type="submit" id="q-submit"
                    class="uk-button uk-button-primary uk-button-large uk-width-1-1 continue-button"
                    disabled="disabled">Weiter</button>
        </div>
    </div>

    <a href="../imprint/imprint.html">
        <div class="imprint-floating-btn uk-box-shadow-hover-large">
            <span uk-icon="icon: info; ratio: 1.5"></span>
        </div>
    </a>

    <script>
        $(document).ready(function () {
            //deselect and disable on page-load
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
            $(".main-content").removeClass("hidden");
            $(".select-card__input").each(function (i, el) {
                this.checked = false;
            });
            $("#q-submit").attr("disabled", true);
        })

        $(".select-card:not(input)").on("click", function (e) {
            //click entire card for selection
            // console.log("event", e);
            var parent = e.currentTarget.closest('.select-card')
            // console.log("parent", $(parent));
            var radioInput = $(parent).find("input.uk-radio");
            console.log("radioInput", $(radioInput));
            $(radioInput).trigger("click");
            $("#q-submit").attr("disabled", false);
        });

        $(".select-card__input").on("click", function (e) {
            //prevent endless loop for click-handler
            e.stopPropagation();
            $("#q-submit").attr("disabled", false);
        });

        $("#q-submit").on("click", function (e) {
            //"submit" to continue
            e.preventDefault();

            var selectedInput;
            $(".select-card__input").each(function (i, el) {
                if (this.checked === true) {
                    selectedInput = this;
                    return false;
                }
            });

            if (selectedInput != undefined && selectedInput.value != null && selectedInput.value !== "") {
                sessionStorage.setItem("answer_q1", selectedInput.value);
                console.log("saving value", selectedInput.value);
                console.log("saved value", sessionStorage.getItem("answer_q1"));

                window.location.href = "q2.html";
            }


        });
    </script>
</body>

</html>